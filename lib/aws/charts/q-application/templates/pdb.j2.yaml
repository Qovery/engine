{%- if not is_storage %}
---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: {{ sanitized_name }}
  namespace: {{ namespace }}
  labels:
    appLongId: {{ long_id }}
    ownerId: {{ owner_id }}
    envId: {{ environment_id }}
    appId: {{ id }}
    app: {{ sanitized_name }}
    qovery.com/service-id: {{ long_id }}
    qovery.com/service-type: application
    qovery.com/environment-id: {{ environment_long_id }}
    qovery.com/project-id: {{ project_long_id }}
spec:
  maxUnavailable: 10%
  selector:
    matchLabels:
      ownerId: {{ owner_id }}
      envId: {{ environment_id }}
      appId: {{ id }}
      app: {{ sanitized_name }}
{%- endif %}